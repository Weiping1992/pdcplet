version: 1.0.0
modules:
  - name: vmiproxy
    config:
      connections: 
      - inpplatserver
  - name: vmimetrics
    config:
      connections: 
      - inpplatserver
      - pdcpserver
connections:
  pdcpserver:
    type: "rpc"  # option: rpc/unixdomainsocket
    rpc:
      host: 192.168.31.138
      port: 5888
      urlprefix: /pdcplet
      token: ""
      timeout: 5s
  inpplatserver:
    type: "rpc"  # option: rpc/unixdomainsocket
    rpc:
      host: 192.168.31.138
      port: 5777
      urlprefix: /mock
      token: ""
      timeout: 5s
    unixdomainsocket:
      path: /tmp/inpplatserver.sock
log:
  level: debug     # option: debug/info/warn/error
  format: json     # option: json/text
  outputs:
    - stdout       # 控制台输出
    - file         # 文件输出
  file:
    path: pdcplet.log
    maxSize: 100  # MB
    maxBackups: 5  # 最大备份数
    compress: true